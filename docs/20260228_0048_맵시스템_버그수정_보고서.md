# ë§µ ì‹œìŠ¤í…œ ë²„ê·¸ ìˆ˜ì • ë³´ê³ ì„œ

**í”„ë¡œì íŠ¸**: ì•ˆë…•, ì„œìš¸ (Korean Class RPG Game)
**ì‘ì—…ì¼**: 2026-02-28
**ì‘ì—…ë²”ìœ„**: 3ê³„ì¸µ ë§µ ì‹œìŠ¤í…œ í”Œë ˆì´ ê°€ëŠ¥ì„± ë²„ê·¸ 5ê±´ ìˆ˜ì •
**ì»¤ë°‹**: `0f5e74d` â€” `fix: ë§µ ì‹œìŠ¤í…œ í”Œë ˆì´ ê°€ëŠ¥ì„± 5ê°€ì§€ ë²„ê·¸ ìˆ˜ì •`

---

## 1. ì‘ì—… ë°°ê²½

ë§µ ì‹œìŠ¤í…œ(28ê°œ ì”¬) êµ¬í˜„ ì™„ë£Œ í›„ ì‹¤ì œ í”Œë ˆì´ í…ŒìŠ¤íŠ¸ì—ì„œ ë‹¤ìŒ 5ê°€ì§€ ë¬¸ì œê°€ ë°œê²¬ë˜ì—ˆë‹¤:

1. ì¥ì†Œë§µ(ì„œì  ë“±)ì—ì„œ **ì¶œêµ¬ ë¬¸ìœ¼ë¡œ ë‚˜ê°ˆ ìˆ˜ ì—†ìŒ**
2. ì§€í•˜ì² ì—­/ì¥ì†Œë§µì—ì„œ ë³µê·€ ì‹œ **ì—‰ëš±í•œ ìœ„ì¹˜ì— ìŠ¤í°**
3. **ìºë¦­í„° ì „í™˜** ì‹œ ë‹¤ë¥¸ ìºë¦­í„°ì˜ ì¥ì†Œë§µ ìƒíƒœê°€ ìœ ì§€ë¨
4. ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•œ ì¥ì†Œë§µ 2ê°œ (**HiKR Ground, ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤**)
5. DataLoaderì˜ `loadChapters()` **ì—ëŸ¬ í•¸ë“¤ë§ ë¶€ì¬**

---

## 2. ìˆ˜ì • ë‚´ìš© ìƒì„¸

### 2-1. ì¥ì†Œë§µ ì¶œêµ¬ ë¬¸ ë²½ ê°­ (BasePlaceScene.js)

**ê·¼ë³¸ ì›ì¸**:
`createTilemap()`ì´ ì›”ë“œ í•˜ë‹¨ ì „ì²´ì— ë²½ ì¶©ëŒì²´ë¥¼ ìƒì„±í•˜ì—¬, í•˜ë‹¨ ì¤‘ì•™ì— ë°°ì¹˜ëœ ì¶œêµ¬ ë¬¸(exit door)ì— í”Œë ˆì´ì–´ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ë„ë‹¬í•  ìˆ˜ ì—†ì—ˆë‹¤.

```
ìˆ˜ì • ì „:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          (ì‹¤ë‚´ ê³µê°„)          â”‚
â”‚                              â”‚
â”‚                              â”‚
â””â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”˜  â† í•˜ë‹¨ ë²½ ì „ì²´ (ì¶©ëŒì²´)
          ğŸšª ì¶œêµ¬ ë¬¸              â† ë²½ ë’¤ì— ë§‰í˜!

ìˆ˜ì • í›„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          (ì‹¤ë‚´ ê³µê°„)          â”‚
â”‚                              â”‚
â”‚                              â”‚
â””â•â•â•â•â•â•â•â•â•â•â•â•¡    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”˜  â† ì¶œêµ¬ ê°­ (100px)
            ğŸšª ì¶œêµ¬ ë¬¸             â† ì ‘ê·¼ ê°€ëŠ¥!
```

**ìˆ˜ì • ì‚¬í•­**:

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì¶œêµ¬ ê°­ | í•˜ë‹¨ ë²½ì„ ì¶œêµ¬ ìœ„ì¹˜(exitDoorX) ê¸°ì¤€ ì¢Œ/ìš° ë‘ ì„¸ê·¸ë¨¼íŠ¸ë¡œ ë¶„ë¦¬, 100px ê°­ ìƒì„± |
| íƒ€ì¼ ë Œë”ë§ | ê°­ ì˜ì—­ì˜ íƒ€ì¼ì„ `tile_wall` ëŒ€ì‹  ë°”ë‹¥ íƒ€ì¼ë¡œ ë Œë”ë§ |
| ì¶©ëŒì²´ íƒ€ì´ë° | ë²½ ë¬¼ë¦¬ì²´ë¥¼ `createTilemap()`ì—ì„œ ìƒì„±ë§Œ í•˜ê³ , `createPlace()` ë‹¨ê³„ì—ì„œ player ì¡´ì¬ í™•ì¸ í›„ collider ë“±ë¡ |
| ì˜í–¥ ë²”ìœ„ | **9ê°œ ì¥ì†Œë§µ ì „ë¶€** ì¼ê´„ ìˆ˜ì •ë¨ (BasePlaceScene ìƒì†) |

**ì½”ë“œ ë³€ê²½** (`BasePlaceScene.js`):

```javascript
// createPlace()ì—ì„œ ì¶œêµ¬ ìœ„ì¹˜ë¥¼ createWorld() ì „ì— ì €ì¥
this._exitDoorX = config.exitX || this.worldWidth / 2;

// createTilemap()ì—ì„œ í•˜ë‹¨ ë²½ ë¶„ë¦¬
const gapWidth = 100;
const leftWallEnd = exitX - gapWidth / 2;
const rightWallStart = exitX + gapWidth / 2;

// ì¢Œì¸¡ í•˜ë‹¨ ë²½
walls.push({ x: leftWallEnd / 2, y: ..., w: leftWallEnd, h: wallThick });
// ìš°ì¸¡ í•˜ë‹¨ ë²½
walls.push({ x: rightWallStart + rightWidth / 2, y: ..., w: rightWidth, h: wallThick });

// createPlace()ì—ì„œ player ìƒì„± í›„ collider ë“±ë¡
if (this._wallBodies && this.player) {
  this._wallBodies.forEach(w => this.physics.add.collider(this.player, w));
}
```

---

### 2-2. ìŠ¤í° ìœ„ì¹˜ ê°œì„  (BaseWorldScene.js + 7ê°œ ì§€ì—­ë§µ)

**ê·¼ë³¸ ì›ì¸**:
ì§€í•˜ì²  ì”¬(`MetroMapScene`)ì˜ `goBack()`ì´ `{ fromStation: stationId }`ë¥¼ ì „ë‹¬í•˜ì§€ë§Œ, ì§€ì—­ë§µì˜ `createWorld()`ëŠ” `spawnX`/`spawnY`ë§Œ ì²´í¬í•˜ì—¬ í•­ìƒ ê³ ì •ëœ ê¸°ë³¸ ì‹œì‘ ìœ„ì¹˜ì— ìŠ¤í°ë˜ì—ˆë‹¤.

```
ìˆ˜ì • ì „: ì•¼ì¿ ì¸ì—­ â†’ ì§€í•˜ì²  â†’ ì•¼ì¿ ì¸ ë³µê·€ â†’ í¸ì˜ì  ì•(1200, 1000)ì— ìŠ¤í° âŒ
ìˆ˜ì • í›„: ì•¼ì¿ ì¸ì—­ â†’ ì§€í•˜ì²  â†’ ì•¼ì¿ ì¸ ë³µê·€ â†’ ì•¼ì¿ ì¸ì—­ ì•(1900, 1250)ì— ìŠ¤í° âœ…
```

**ìˆ˜ì • ì‚¬í•­**:

#### (a) BaseWorldScene.createWorld() ìŠ¤í° ë¡œì§ ì¶”ê°€

```javascript
// ì§€í•˜ì² ì—­ì—ì„œ ëŒì•„ì™”ì„ ë•Œ â†’ í•´ë‹¹ ì—­ ê·¼ì²˜ì— ìŠ¤í°
const fromStation = this._initData?.fromStation;
if (fromStation && this.stationSpawnPoints?.[fromStation]) {
  spawnX = this.stationSpawnPoints[fromStation].x;
  spawnY = this.stationSpawnPoints[fromStation].y;
}

// ì¥ì†Œë§µì—ì„œ ë‚˜ì™”ì„ ë•Œ â†’ í•´ë‹¹ ê±´ë¬¼ ê·¼ì²˜ì— ìŠ¤í°
const fromPlace = this._initData?.fromPlace;
if (fromPlace && this.placeSpawnPoints?.[fromPlace]) {
  spawnX = this.placeSpawnPoints[fromPlace].x;
  spawnY = this.placeSpawnPoints[fromPlace].y;
}
```

#### (b) 7ê°œ ì§€ì—­ë§µì— ìŠ¤í° í¬ì¸íŠ¸ ì •ì˜

| íŒŒì¼ | stationSpawnPoints | placeSpawnPoints |
|------|--------------------|------------------|
| `FukuokaYakuinScene.js` | yakuin (1900, 1250) | YukoHouse(400,1450), AmiHouse(700,1350), RuiHouse(1000,1450), Bookstore(1600,650), Academy(500,750) |
| `FukuokaAirportScene.js` | fukuoka_airport (800, 1050) | â€” |
| `IncheonAirportScene.js` | incheon_airport (1000, 1050) | â€” |
| `SeoulMyeongdongScene.js` | myeongdong (800, 1050) | OliveYoung(800,500), HiKRGround(600,350), Hotel(1300,750) |
| `SeoulGangnamScene.js` | gangnam (800, 1050) | Restaurant(1200,550) |
| `SeoulHongdaeScene.js` | hongdae (800, 1050) | â€” |
| `SeoulSeongsuScene.js` | seongsu (800, 1050) | â€” |

---

### 2-3. ìºë¦­í„° ì „í™˜ ì‹œ ì¥ì†Œë§µ ë³µê·€ (BaseWorldScene.js)

**ê·¼ë³¸ ì›ì¸**:
`switchCharacter()`ê°€ `scene.restart()`ë§Œ í˜¸ì¶œí•˜ì—¬, ì¥ì†Œë§µ(ì„œì  ë“±) ë‚´ì—ì„œ ìºë¦­í„°ë¥¼ ì „í™˜í•˜ë©´ ìƒˆ ìºë¦­í„°ê°€ ê°™ì€ ì¥ì†Œë§µì—ì„œ ì¬ì‹œì‘ë˜ì—ˆë‹¤. ìƒˆ ìºë¦­í„°ëŠ” í•´ë‹¹ ì¥ì†Œì— ê°„ ì ì´ ì—†ìœ¼ë¯€ë¡œ ì´ëŠ” ë¶€ìì—°ìŠ¤ëŸ¬ìš´ ë™ì‘ì´ë‹¤.

**ìˆ˜ì •**:
`returnScene`ì´ ì¡´ì¬í•˜ë©´(= BasePlaceSceneì—ì„œ ì„¤ì •ë¨) ì§€ì—­ë§µìœ¼ë¡œ ë³µê·€í•˜ë„ë¡ ë³€ê²½.

```javascript
switchCharacter(newChar) {
  // ...ê¸°ì¡´ ì½”ë“œ...
  this._switchDelayedCall = this.time.delayedCall(300, () => {
    // ì¥ì†Œë§µì—ì„œ ìºë¦­í„° ì „í™˜ â†’ ì§€ì—­ë§µìœ¼ë¡œ ë³µê·€
    if (this.returnScene) {
      this.scene.start(this.returnScene);
    } else {
      this.scene.restart();
    }
  });
}
```

---

### 2-4. ì ‘ê·¼ ë¶ˆê°€ ì¥ì†Œë§µ ì—°ê²° (SeoulMyeongdongScene.js)

**ë¬¸ì œ**: `HiKRGroundScene`ê³¼ `HotelScene`ì€ ì¡´ì¬í•˜ì§€ë§Œ ì–´ë–¤ ì§€ì—­ë§µì—ì„œë„ `createEnterableBuilding()`ìœ¼ë¡œ ì—°ê²°ë˜ì§€ ì•Šì•„ ì ‘ê·¼ ë¶ˆê°€ëŠ¥í–ˆë‹¤.

**ìˆ˜ì •**: ëª…ë™ ì§€ì—­ë§µì— ë‘ ê±´ë¬¼ ì¶”ê°€

```javascript
// í•˜ì´ì»¤ ê·¸ë¼ìš´ë“œ
this.createEnterableBuilding(600, 300, 'HiKRGroundScene', {
  texture: 'building_shop', name_ko: 'í•˜ì´ì»¤ê·¸ë¼ìš´ë“œ', name_ja: 'HiKR Ground'
});
// ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤
this.createEnterableBuilding(1300, 700, 'HotelScene', {
  texture: 'building_house', name_ko: 'ê²ŒìŠ¤íŠ¸í•˜ìš°ìŠ¤', name_ja: 'ã‚²ã‚¹ãƒˆãƒã‚¦ã‚¹'
});
```

---

### 2-5. DataLoader ì—ëŸ¬ í•¸ë“¤ë§ (DataLoader.js)

**ë¬¸ì œ**: `loadChapters()`ì— try/catchì™€ `resp.ok` ì²´í¬ê°€ ì—†ì–´, 404 ì‘ë‹µ ì‹œ `resp.json()`ì´ HTMLì„ íŒŒì‹±í•˜ë ¤ë‹¤ í¬ë˜ì‹œ ë°œìƒ.

**ìˆ˜ì •**:
```javascript
async loadChapters() {
  if (this.cache.chapters) return this.cache.chapters;
  try {
    const resp = await fetch('./data/chapters/chapter_list.json');
    if (!resp.ok) throw new Error(`HTTP ${resp.status}`);
    this.cache.chapters = await resp.json();
    return this.cache.chapters;
  } catch (e) {
    console.warn('Chapter list not found, using defaults:', e.message);
    this.cache.chapters = [];
    return this.cache.chapters;
  }
}
```

---

## 3. ìˆ˜ì • ëŒ€ìƒ íŒŒì¼ ìš”ì•½

| # | íŒŒì¼ | ë³€ê²½ ë‚´ìš© | +/- |
|---|------|----------|-----|
| 1 | `src/scenes/BasePlaceScene.js` | í•˜ë‹¨ ë²½ ì¶œêµ¬ ê°­, ì¶©ëŒì²´ íƒ€ì´ë° ìˆ˜ì • | +71/-14 |
| 2 | `src/scenes/BaseWorldScene.js` | ìŠ¤í° ë¡œì§, switchCharacter ì¥ì†Œë§µ ì²˜ë¦¬ | +28/-2 |
| 3 | `src/scenes/fukuoka/FukuokaYakuinScene.js` | stationSpawnPoints + placeSpawnPoints | +12 |
| 4 | `src/scenes/fukuoka/FukuokaAirportScene.js` | stationSpawnPoints | +5 |
| 5 | `src/scenes/incheon/IncheonAirportScene.js` | stationSpawnPoints | +5 |
| 6 | `src/scenes/seoul/SeoulMyeongdongScene.js` | stationSpawnPoints + placeSpawnPoints + ê±´ë¬¼ 2ê°œ | +20 |
| 7 | `src/scenes/seoul/SeoulGangnamScene.js` | stationSpawnPoints + placeSpawnPoints | +8 |
| 8 | `src/scenes/seoul/SeoulHongdaeScene.js` | stationSpawnPoints | +5 |
| 9 | `src/scenes/seoul/SeoulSeongsuScene.js` | stationSpawnPoints | +5 |
| 10 | `src/systems/DataLoader.js` | loadChapters() ì—ëŸ¬ í•¸ë“¤ë§ | +13/-2 |
| **í•©ê³„** | **10ê°œ íŒŒì¼** | | **+156/-16** |

---

## 4. ê²€ì¦ ê²°ê³¼

### 4-1. ë¹Œë“œ í…ŒìŠ¤íŠ¸

```
âœ“ 42 modules transformed
âœ“ built in 1.80s (0 errors)
  dist/assets/index-DCuGa4z_.js  1,638.56 kB
```

### 4-2. ëŸ°íƒ€ì„ í…ŒìŠ¤íŠ¸ (í”„ë¡œê·¸ë˜ë° ê²€ì¦)

| í…ŒìŠ¤íŠ¸ | ê²°ê³¼ | ì„¤ëª… |
|--------|------|------|
| BookstoreScene ë²½ ê°­ | âœ… PASS | wallBodies=5 (ìƒ+ì¢Œ+ìš°+í•˜ì¢Œ+í•˜ìš°), exitDoorX=500 |
| FukuokaYakuinScene ìŠ¤í° í¬ì¸íŠ¸ | âœ… PASS | stationSpawnPoints.yakuin, placeSpawnPoints 5ê±´ |
| ì†ŒìŠ¤ ì½”ë“œ: 7ê°œ ë§µ stationSpawnPoints | âœ… PASS | grep ê²€ì¦ ì™„ë£Œ (7ê°œ íŒŒì¼) |
| ì†ŒìŠ¤ ì½”ë“œ: 3ê°œ ë§µ placeSpawnPoints | âœ… PASS | grep ê²€ì¦ ì™„ë£Œ (3ê°œ íŒŒì¼) |
| switchCharacter returnScene ë¶„ê¸° | âœ… PASS | returnScene ì¡´ì¬ ì‹œ scene.start, ì•„ë‹ˆë©´ restart |

### 4-3. GitHub Pages ë°°í¬

```
GitHub Actions: completed (success) â€” 37ì´ˆ
URL: https://jyc0289y-art.github.io/KoreanClassGame/
```

---

## 5. ìŠ¤í° í¬ì¸íŠ¸ ì‹œìŠ¤í…œ íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í”Œë ˆì´ì–´ ì´ë™ íë¦„                                    â”‚
â”‚                                                      â”‚
â”‚  ì§€ì—­ë§µ (ì•¼ì¿ ì¸)                                      â”‚
â”‚  â”œâ”€ ì„œì  ì§„ì… â†’ BookstoreScene                        â”‚
â”‚  â”‚   â””â”€ ì¶œêµ¬ ë¬¸ ğŸšª â†’ ì•¼ì¿ ì¸ (ì„œì  ê·¼ì²˜ x:1600 y:650) â”‚
â”‚  â”œâ”€ ì•¼ì¿ ì¸ì—­ â†’ ì§€í•˜ì² ë§µ (FukuokaMetroScene)           â”‚
â”‚  â”‚   â””â”€ ì•¼ì¿ ì¸ì—­ ì„ íƒ â†’ ì•¼ì¿ ì¸ (ì—­ ê·¼ì²˜ x:1900 y:1250)â”‚
â”‚  â”‚   â””â”€ ê³µí•­ì—­ ì„ íƒ â†’ ê³µí•­ (ì—­ ê·¼ì²˜ x:800 y:1050)     â”‚
â”‚  â””â”€ ìºë¦­í„° ì „í™˜ (ì¥ì†Œë§µ ë‚´)                            â”‚
â”‚      â””â”€ ì¥ì†Œë§µ â†’ ì§€ì—­ë§µìœ¼ë¡œ ìë™ ë³µê·€                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. í–¥í›„ ê³¼ì œ

- [ ] ë‚˜ë¨¸ì§€ ì¥ì†Œë§µ(HiKRGround, Hotel)ì— ê³ ìœ  NPC/ì¸í…Œë¦¬ì–´ ì¶”ê°€
- [ ] í™ëŒ€/ì„±ìˆ˜ë™ ì§€ì—­ë§µì— ì§„ì… ê°€ëŠ¥ ê±´ë¬¼ ì¶”ê°€
- [ ] ì§€í•˜ì²  ë…¸ì„ ë„ UIì—ì„œ í™˜ìŠ¹ì—­ ì—°ê²°
- [ ] ì¥ì†Œë§µ ë‚´ ë¯¸ë‹ˆê²Œì„(ì£¼ë¬¸í•˜ê¸°, ì‡¼í•‘í•˜ê¸° ë“±) êµ¬í˜„
- [ ] ë²ˆë“¤ ì‚¬ì´ì¦ˆ ìµœì í™” (í˜„ì¬ 1,638KB, ì½”ë“œ ë¶„í•  ê²€í† )
