# 다음 작업 계획 보고서 — KoreanClassGame v3.0

**작성일**: 2026-02-28
**현재 버전**: 3.0.0
**기반 분석**: 프로젝트 전체 코드·데이터·보고서 검토

---

## 1. 현재 프로젝트 상태 요약

### 완성된 기능 ✅
| 기능 | 상태 | 비고 |
|------|------|------|
| 캐릭터 선택/전환 (유코, 아미, 루이) | ✅ 완료 | 3명, KO/JA 이름 |
| 챕터/레슨 선택 (레벨 게이팅) | ✅ 완료 | ch00-03 정의, ch00-01 콘텐츠 |
| 대화 시스템 (타자기 효과, 이중언어) | ✅ 완료 | 18개 대화 스크립트 |
| 미션/퀴즈 (6종 문제 유형) | ✅ 완료 | 126개 미션 (ch00: 55, ch01: 71) |
| 단어장 (ch00: 96단어) | ✅ 완료 | 한/일/발음/예문/카테고리 |
| 상점 시스템 (5개 카테고리) | ✅ 완료 | 교재, 굿즈, 여행, 강의, 아이템 |
| 3계층 맵 시스템 (28개 씬) | ✅ 완료 | 국제→지하철→지구/실내 |
| 야외 워킹 (NPC, 건물, 지하철) | ✅ 완료 | 7개 지구 맵 |
| 실내 장소 (9개 건물 내부) | ✅ 완료 | 자동 벽 생성, 출구 포탈 |
| 미니맵 + 카메라 줌 | ✅ 완료 | 핀치줌 0.5~2.5x |
| 조이스틱 + 키보드 조작 | ✅ 완료 | WASD + 터치 |
| 모바일 반응형 | ✅ 완료 | Phaser RESIZE 모드 |
| 이중언어 UI (한/일) | ✅ 완료 | 전체 |
| localStorage 저장/불러오기 | ✅ 완료 | 캐릭터별 진행도 |
| 상표명 가명 치환 (19개 카테고리) | ✅ 완료 | 저작권 리스크 제거 |

### 미완성/미구현 ❌
| 기능 | 상태 | 영향도 |
|------|------|--------|
| ch02/ch03 콘텐츠 | ❌ 없음 | 게임 볼륨의 55% 부재 |
| 오디오/음악 시스템 | ❌ 없음 | 몰입감 대폭 저하 |
| NPC 대화 트리거 연동 | 🟡 부분 | NPC 배치만 됨, 상호작용 미완 |
| 발음 연습 (음성 인식/재생) | 🟡 부분 | UI만 존재, 음성 에셋 없음 |
| 설정 메뉴 (언어, 소리 토글) | ❌ 없음 | 사용자 편의 부족 |
| 일시정지/재개 (레슨 중) | ❌ 없음 | 이탈 시 진행 손실 |
| 업적/배지 시스템 | ❌ 없음 | 장기 동기부여 부족 |
| 단어 숙련도 추적 | ❌ 없음 | 학습 효과 측정 불가 |
| 레거시 씬 정리 (2개) | 🟡 존재 | FukuokaScene.js, IncheonScene.js |
| 단위 테스트 | ❌ 없음 | 코드 안정성 검증 부재 |
| README.md | ❌ 없음 | 프로젝트 문서 부재 |

---

## 2. 다음 작업 우선순위 로드맵

### 🔴 우선순위 1 — 핵심 콘텐츠 확충 (게임 볼륨 확보)

#### 작업 1-A: ch02 중급1회화반 콘텐츠 제작
**예상 산출물**: 대화 11개 + 미션 ~77개 + 단어장 1개

| 항목 | 파일 | 설명 |
|------|------|------|
| 대화 스크립트 | `dialogues/ch02_l01~l11_dialogue.json` | 11개 레슨 대화 (A2-B1 수준) |
| 미션 데이터 | `missions/ch02_l01~l11_missions.json` | 레슨당 ~7개 미션 |
| 단어장 | `vocabulary/ch02_vocabulary.json` | A2-B1 수준 단어 ~120개 |

**가능한 ch02 레슨 구성 (제안)**:
| 레슨 | 주제 (한) | 주제 (일) | 학습 포인트 |
|-------|----------|----------|------------|
| L01 | 한국에서의 첫 아침 | 韓国での初めての朝 | ~고 싶다 (하고 싶은 것) |
| L02 | 카페에서 주문하기 | カフェで注文する | ~(으)ㄹ게요 (의지 표현) |
| L03 | 길 묻기와 대중교통 | 道を尋ねる・公共交通 | ~(으)면 (조건문) |
| L04 | 쇼핑몰에서 | ショッピングモールで | ~아/어 보다 (시도) |
| L05 | 한국 친구 사귀기 | 韓国人の友達を作る | ~(으)ㄹ 수 있다/없다 (능력) |
| L06 | 병원/약국 가기 | 病院・薬局に行く | ~아/어야 하다 (의무) |
| L07 | 한국 요리 배우기 | 韓国料理を習う | ~(으)면서 (동시 동작) |
| L08 | SNS에 후기 올리기 | SNSにレビューを投稿 | ~(으)ㄴ/는 것 같다 (추측) |
| L09 | 주말 여행 계획 | 週末旅行の計画 | ~(으)려고 하다 (계획) |
| L10 | 한국 문화 체험 | 韓国文化体験 | ~게 되다 (변화) |
| L11 | 중간 정리와 복습 | 中間まとめと復習 | 종합 복습 |

#### 작업 1-B: ch03 중급2회화반 콘텐츠 제작
**예상 산출물**: 대화 11개 + 미션 ~77개 + 단어장 1개
(ch02 완료 후 동일 구조로 B1 수준 제작)

#### 작업 1-C: NPC 대화 트리거 연동
- 현재: NPC가 맵에 배치되어 있으나 상호작용이 제한적
- 목표: NPC 접근 시 레슨 대화/미션이 자동 트리거
- 파일: 각 WorldScene/PlaceScene의 NPC 설정 + DialogueScene 연동

---

### 🟠 우선순위 2 — 사용자 경험(UX) 개선

#### 작업 2-A: 오디오 시스템 도입
| 항목 | 설명 | 구현 방식 |
|------|------|----------|
| BGM | 맵별 배경음악 | Phaser Sound Manager + MP3/OGG |
| SFX | 버튼 클릭, 정답/오답, 레벨업 | 짧은 효과음 |
| TTS | 한국어 단어/문장 발음 재생 | Web Speech API 또는 미리 녹음된 파일 |
| 설정 | BGM/SFX 볼륨 토글 | 설정 메뉴 UI 추가 |

**TTS 구현 옵션**:
- **옵션 A**: Web Speech API (무료, 즉시 구현 가능, 음질 기기 의존)
- **옵션 B**: 미리 녹음된 음성 파일 (고품질, 용량 큼, 제작 비용)
- **옵션 C**: 클라우드 TTS API (고품질, API 비용 발생)

#### 작업 2-B: 설정 메뉴 구현
```
[설정]
├── 언어: 한국어 / 日本語 / 한+일 병행
├── BGM: ON/OFF + 볼륨 슬라이더
├── SFX: ON/OFF + 볼륨 슬라이더
├── 텍스트 속도: 느림 / 보통 / 빠름 / 즉시
├── 발음 표시: 항상 / 첫 등장만 / 숨김
└── 세이브 관리: 저장 슬롯 / 초기화
```

#### 작업 2-C: 레슨 일시정지/재개
- 대화 중 이탈 시 진행 위치 저장
- 미션 중 이탈 시 현재 문제 번호 저장
- 재접속 시 "이어서 하시겠습니까?" 안내

---

### 🟡 우선순위 3 — 게임성 강화

#### 작업 3-A: 단어 숙련도 시스템
| 숙련도 | 기준 | 복습 주기 |
|--------|------|----------|
| ★☆☆☆☆ 처음 본 단어 | 단어장에서 열람 | 즉시 |
| ★★☆☆☆ 1회 정답 | 미션에서 1회 정답 | 1일 후 |
| ★★★☆☆ 3회 정답 | 누적 3회 정답 | 3일 후 |
| ★★★★☆ 5회 정답 | 누적 5회 정답 | 7일 후 |
| ★★★★★ 마스터 | 연속 5회 정답 | 30일 후 |

- 간격반복(SRS) 알고리즘 적용
- 단어장에서 숙련도별 필터링
- "오늘의 복습" 기능 (복습 필요 단어 자동 출제)

#### 작업 3-B: 업적/배지 시스템
**업적 카테고리 예시**:
| 배지 | 조건 | 보상 |
|------|------|------|
| 첫 발걸음 | 첫 레슨 완료 | 50 코인 |
| 한글 마스터 | ch00 전체 완료 | 200 코인 + 스킨 |
| 단어왕 | 단어 100개 마스터 | 300 코인 |
| 탐험가 | 모든 맵 방문 | 150 코인 |
| 완벽주의자 | 미션 전부 만점 | 500 코인 + 특별 스킨 |
| 서울 여행자 | 서울 4개 지구 방문 | 100 코인 |
| 맛집 탐방 | 유전식당에서 식사 | 50 코인 |

#### 작업 3-C: 대화 분기 시스템 (선택지)
- 현재: 선형 대화만 가능
- 목표: 대화 중 2~3개 선택지 → 다른 응답/결과
- 효과: 다회차 플레이 유도, 실전 대화 시뮬레이션

---

### 🟢 우선순위 4 — 코드 품질 & 유지보수

#### 작업 4-A: 레거시 씬 정리
- `src/scenes/FukuokaScene.js` — 삭제 (3계층 맵으로 대체됨)
- `src/scenes/IncheonScene.js` — 삭제 (3계층 맵으로 대체됨)
- `src/main.js`에서 import/등록 제거

#### 작업 4-B: README.md 작성
```
README.md 포함 내용:
├── 프로젝트 소개 (한/일 이중언어)
├── 스크린샷 / 데모 링크
├── 설치 및 실행 방법 (npm install → npm run dev)
├── 게임 조작법
├── 프로젝트 구조 설명
├── 기여 가이드
└── 라이선스
```

#### 작업 4-C: 빌드 최적화
- Phaser 번들 크기: 현재 ~378KB gzip → 코드 스플리팅으로 초기 로드 감소
- `manualChunks` 설정으로 Phaser 코어와 게임 로직 분리
- 씬별 동적 임포트 (`import()`) 검토

#### 작업 4-D: 기본 테스트 도입
- Vitest 설정 (Vite 네이티브 테스트 러너)
- GameState 단위 테스트 (레벨업, XP 계산, 저장/불러오기)
- DataLoader 단위 테스트 (JSON 파싱, 캐싱, 에러 핸들링)

---

## 3. 추천 실행 순서

```
Phase 1 (즉시) ─────────────────────────────────────
│
├─ [1-A] ch02 콘텐츠 제작 (대화 11 + 미션 77 + 단어장)
├─ [4-A] 레거시 씬 정리 (2개 파일 삭제)
│
Phase 2 (Phase 1 완료 후) ──────────────────────────
│
├─ [2-A] 오디오 시스템 도입 (BGM + SFX)
├─ [2-B] 설정 메뉴 구현
├─ [1-C] NPC 대화 트리거 연동
│
Phase 3 (Phase 2 완료 후) ──────────────────────────
│
├─ [1-B] ch03 콘텐츠 제작
├─ [3-A] 단어 숙련도 시스템 (SRS)
├─ [2-C] 레슨 일시정지/재개
│
Phase 4 (장기) ─────────────────────────────────────
│
├─ [3-B] 업적/배지 시스템
├─ [3-C] 대화 분기 시스템
├─ [2-A+] TTS 한국어 발음 재생
├─ [4-B] README.md 작성
├─ [4-C] 빌드 최적화
└─ [4-D] 기본 테스트 도입
```

---

## 4. 각 Phase별 예상 효과

| Phase | 핵심 변화 | 사용자 체감 |
|-------|----------|------------|
| **Phase 1** | 게임 볼륨 2배 확대 (ch02 추가) | "더 많은 콘텐츠!" |
| **Phase 2** | 소리 + 설정 + NPC 대화 | "게임다워졌다!" |
| **Phase 3** | ch03 + 복습 시스템 | "학습 효과를 느낀다!" |
| **Phase 4** | 수집/분기/최적화 | "완성도 높은 게임!" |

---

## 5. 즉시 실행 가능한 퀵윈 (Quick Wins)

다음 작업들은 코드 변경 최소, 즉시 효과 큰 항목입니다:

| # | 작업 | 소요시간 | 효과 |
|---|------|---------|------|
| 1 | 레거시 씬 2개 삭제 | 5분 | 코드 정리 |
| 2 | `chapter_list.json` ch02 status를 "available"로 변경 | 1분 | ch02 잠금 해제 (콘텐츠 필요) |
| 3 | 맵시스템_기획서.md를 git에 추가 | 1분 | 기획 문서 보존 |
| 4 | 빌드 경고 해결 (chunk size warning) | 10분 | manualChunks 설정 |
| 5 | Phaser 3.60 → 3.90 업데이트 확인 | 15분 | 최신 기능/버그픽스 |

---

## 6. 프로젝트 현황 대시보드

```
전체 진행률: ████████████░░░░░░░░ 60%

콘텐츠:  ██████████░░░░░░░░░░ 50%  (ch00-01 완료 / ch02-03 미구현)
맵/씬:   ████████████████████ 100% (28개 씬 완성)
UI/UX:   ████████████░░░░░░░░ 60%  (기본 UI 완성 / 설정·오디오 없음)
게임성:  ██████░░░░░░░░░░░░░░ 30%  (퀴즈·상점 있음 / 업적·숙련도 없음)
품질:    ████████░░░░░░░░░░░░ 40%  (깨끗한 코드 / 테스트·문서 없음)
```

---

*이 보고서는 프로젝트 전체 코드, 데이터, 기존 보고서를 기반으로 작성되었습니다.*
