import BaseWorldScene from '../BaseWorldScene.js';
import { gameState } from '../../systems/GameState.js';

// ============================================================
// FukuokaUnifiedScene â€” í›„ì¿ ì˜¤ì¹´ í†µí•©ë§µ (6400x4800)
//
//  ì‹¤ì œ í›„ì¿ ì˜¤ì¹´ ì§€ë¦¬ ê¸°ë°˜ ë ˆì´ì•„ì›ƒ
//  â”Œâ•â•â•â•â•â•â•â•â•â• í•˜ì¹´íƒ€ë§Œ (ë°”ë‹¤, Y<800) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”
//  â”‚â”â”â”â”â”â”â” í•´ì•ˆì„  (ê³¡ì„ ) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”‚
//  â”‚                      â”‚                               â”‚
//  â”‚ í…ì§„ (W)       ë‚˜ì¹´ê°• â”‚    í•˜ì¹´íƒ€ (E)                â”‚
//  â”‚ X:1200-3000          â”‚    X:3800-5600               â”‚
//  â”‚ Y:1000-2400    Xâ‰ˆ3400â”‚    Y:1200-2800               â”‚
//  â”‚                      â”‚                               â”‚
//  â”‚ ì•¼ì¿ ì¸ (SW)          â”‚                               â”‚
//  â”‚ X:1200-3000          â”‚                               â”‚
//  â”‚ Y:2600-4200          â”‚                               â”‚
//  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//
//  ì£¼ìš”ë„ë¡œ:
//  - ì‡¼ì™€ë„ë¦¬ (æ˜­å’Œé€šã‚Š): Yâ‰ˆ2000, ë™ì„œ
//  - ë‹¤ì´í•˜ì¿ ë„ë¦¬ (å¤§åšé€šã‚Š): Xâ‰ˆ4600, ë‚¨ë¶
//  - ì™€íƒ€ë‚˜ë² ë„ë¦¬ (æ¸¡è¾ºé€šã‚Š): Xâ‰ˆ2400, ë‚¨ë¶
//  - ë‚˜ì¹´ê°€ì™€ (é‚£ç‚å·): Xâ‰ˆ3400, ë‚¨ë¶ (ê°•)
// ============================================================

export default class FukuokaUnifiedScene extends BaseWorldScene {
  constructor() { super('FukuokaUnifiedScene'); }

  create() {
    this.worldWidth = 6400;
    this.worldHeight = 4800;
    gameState.setRegion('fukuoka');

    // â”€â”€ ìŠ¤í° í¬ì¸íŠ¸: ì§€í•˜ì² ì—­ì—ì„œ ë³µê·€ ì‹œ í•´ë‹¹ ì—­ ê·¼ì²˜ ìŠ¤í° â”€â”€
    this.stationSpawnPoints = {
      yakuin:          { x: 2400, y: 3700 },
      tenjin:          { x: 2200, y: 1700 },
      tenjin_minami:   { x: 2200, y: 2200 },
      hakata:          { x: 4600, y: 1900 },
      // ê³µí•­ì—ì„œ ì§ì ‘ ì˜¬ ê²½ìš° (ê³µí•­ì„  í™˜ìŠ¹)
      fukuoka_airport: { x: 4600, y: 1900 }
    };

    // â”€â”€ ì¥ì†Œë§µì—ì„œ ë³µê·€ ì‹œ ê±´ë¬¼ ê·¼ì²˜ ìŠ¤í° â”€â”€
    this.placeSpawnPoints = {
      YukoHouseScene:      { x: 1600, y: 3500 },
      AmiHouseScene:       { x: 1900, y: 3400 },
      RuiHouseScene:       { x: 2200, y: 3500 },
      BookstoreScene:      { x: 2600, y: 2900 },
      KoreanAcademyScene:  { x: 1600, y: 3000 }
    };

    this.createWorld({
      startX: 2400, startY: 3400,
      tiles: '__terrain__',
      npcs: [],
      buildings: []
    });

    // â”€â”€ ì§€í˜• ë Œë”ë§ â”€â”€
    this.drawTerrain();

    // â”€â”€ ì§€ì—­ë³„ ë°°ì¹˜ â”€â”€
    this.setupTenjinDistrict();
    this.setupHakataDistrict();
    this.setupYakuinDistrict();

    // â”€â”€ ì§€ì—­ ë¼ë²¨ â”€â”€
    this.addDistrictLabels();

    this.showSceneTitle('í›„ì¿ ì˜¤ì¹´', 'ç¦å²¡ Â· Fukuoka',
      'Ch.0 í•œê¸€ë°˜ ì—ë¦¬ì–´', '#88ff88');
    this.cameras.main.fadeIn(500, 0, 0, 0);
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ì§€í˜• ë Œë”ë§
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  drawTerrain() {
    this.createTerrainGraphics({
      baseColor: 0x2d5a1e,

      zones: [
        // â”€â”€ í…ì§„ êµ¬ì—­ í‹´íŠ¸ (ì£¼í™©) â”€â”€
        { x: 1200, y: 1000, w: 1800, h: 1400, color: 0xFF8C00, alpha: 0.05, radius: 20 },

        // â”€â”€ í•˜ì¹´íƒ€ êµ¬ì—­ í‹´íŠ¸ (ë¹¨ê°•) â”€â”€
        { x: 3800, y: 1200, w: 1800, h: 1600, color: 0xCD5C5C, alpha: 0.04, radius: 20 },

        // â”€â”€ ì•¼ì¿ ì¸ êµ¬ì—­ í‹´íŠ¸ (ì´ˆë¡) â”€â”€
        { x: 1200, y: 2600, w: 1800, h: 1600, color: 0x2E8B57, alpha: 0.05, radius: 20 },

        // â”€â”€ ë‚¨ë¶€ ì£¼íƒê°€ (ì—·ì€ ë² ì´ì§€) â”€â”€
        { x: 0, y: 3800, w: 6400, h: 1000, color: 0x8B7355, alpha: 0.04 }
      ],

      water: [
        // â”€â”€ í•˜ì¹´íƒ€ë§Œ (ë¶ìª½ ë°”ë‹¤) â”€â”€
        {
          points: [
            [0, 0], [6400, 0], [6400, 600],
            [6000, 650], [5600, 700], [5200, 730], [4800, 750],
            [4400, 770], [4000, 780], [3600, 780], [3200, 770],
            [2800, 750], [2400, 730], [2000, 700], [1600, 680],
            [1200, 660], [800, 640], [400, 630], [0, 620]
          ],
          color: 0x0a1a3a, alpha: 1.0
        },
        // â”€â”€ í•˜ì¹´íƒ€ë§Œ í•´ì•ˆì„  í•˜ì´ë¼ì´íŠ¸ â”€â”€
        {
          points: [
            [0, 620], [400, 630], [800, 640], [1200, 660],
            [1600, 680], [2000, 700], [2400, 730], [2800, 750],
            [3200, 770], [3600, 780], [4000, 780], [4400, 770],
            [4800, 750], [5200, 730], [5600, 700], [6000, 650], [6400, 600],
            [6400, 620], [6000, 670], [5600, 720], [5200, 750],
            [4800, 770], [4400, 790], [4000, 800], [3600, 800],
            [3200, 790], [2800, 770], [2400, 750], [2000, 720],
            [1600, 700], [1200, 680], [800, 660], [400, 650], [0, 640]
          ],
          color: 0x1a3a5a, alpha: 0.5
        },
        // â”€â”€ ë‚˜ì¹´ê°€ì™€ (é‚£ç‚å·, Xâ‰ˆ3400, ë‚¨ë¶) â”€â”€
        {
          points: [
            [3350, 780], [3360, 1200], [3370, 1600], [3380, 2000],
            [3390, 2400], [3400, 2800], [3410, 3200], [3420, 3600],
            [3430, 4000], [3440, 4400], [3450, 4800],
            [3550, 4800], [3540, 4400], [3530, 4000], [3520, 3600],
            [3510, 3200], [3500, 2800], [3490, 2400], [3480, 2000],
            [3470, 1600], [3460, 1200], [3450, 780]
          ],
          color: 0x1a3a6a, alpha: 0.9
        }
      ],

      roads: [
        // â”€â”€ ì‡¼ì™€ë„ë¦¬ (æ˜­å’Œé€šã‚Š, ë™ì„œ, Yâ‰ˆ2000) â”€â”€
        { x: 200, y: 1976, w: 6000, h: 48, color: 0x555555, alpha: 0.7 },

        // â”€â”€ ë‹¤ì´í•˜ì¿ ë„ë¦¬ (å¤§åšé€šã‚Š, ë‚¨ë¶, Xâ‰ˆ4600) â”€â”€
        { x: 4576, y: 700, w: 48, h: 4100, color: 0x555555, alpha: 0.7 },

        // â”€â”€ ì™€íƒ€ë‚˜ë² ë„ë¦¬ (æ¸¡è¾ºé€šã‚Š, ë‚¨ë¶, Xâ‰ˆ2400) â”€â”€
        { x: 2376, y: 700, w: 48, h: 4100, color: 0x555555, alpha: 0.65 },

        // â”€â”€ í…ì§„ ë‚´ë¶€ë„ë¡œ (ë™ì„œ) â”€â”€
        { x: 1200, y: 1500, w: 1800, h: 36, color: 0x555555, alpha: 0.5 },

        // â”€â”€ í•˜ì¹´íƒ€ ì—­ì „í†µ (í•˜ì¹´íƒ€ì—­ ì£¼ë³€ ë™ì„œë„ë¡œ) â”€â”€
        { x: 3800, y: 1600, w: 1800, h: 36, color: 0x555555, alpha: 0.5 },

        // â”€â”€ ì•¼ì¿ ì¸ ë‚´ë¶€ë„ë¡œ (ë™ì„œ) â”€â”€
        { x: 1200, y: 3200, w: 1800, h: 36, color: 0x555555, alpha: 0.45 },
        // â”€â”€ ì•¼ì¿ ì¸ ë‚´ë¶€ë„ë¡œ (ë‚¨ë¶) â”€â”€
        { x: 1776, y: 2600, w: 48, h: 1600, color: 0x555555, alpha: 0.45 }
      ]
    });
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // í…ì§„ êµ¬ì—­ (W: X:1200-3000, Y:1000-2400)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  setupTenjinDistrict() {
    const ox = 1200, oy = 1000;

    // NPC
    this.createNPCs([
      { x: ox + 900, y: oy + 600, texture: 'shop',
        name_ko: 'í…ì§„ ì•ˆë‚´ì›', name_ja: 'å¤©ç¥æ¡ˆå†…å“¡',
        greeting_ko: 'í…ì§„ì— ì˜¤ì‹  ê±¸ í™˜ì˜í•´ìš”!\nì‡¼í•‘ê³¼ ë¨¹ê±°ë¦¬ê°€ ê°€ë“í•œ ê±°ë¦¬ì˜ˆìš”.',
        greeting_ja: 'å¤©ç¥ã¸ã‚ˆã†ã“ãï¼\nã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã¨ã‚°ãƒ«ãƒ¡ãŒæº€è¼‰ã®è¡—ã§ã™ã€‚' },
      { x: ox + 1500, y: oy + 800, texture: 'mission_npc',
        name_ko: 'ë°±í™”ì  ì§ì›', name_ja: 'ãƒ‡ãƒ‘ãƒ¼ãƒˆåº—å“¡', hasMission: true,
        greeting_ko: 'ë°±í™”ì ì— ì˜¤ì…¨ì–´ìš”?\ní•œêµ­ í™”ì¥í’ˆë„ ìˆì–´ìš”!',
        greeting_ja: 'ãƒ‡ãƒ‘ãƒ¼ãƒˆã¸ã‚ˆã†ã“ãï¼\néŸ“å›½ã‚³ã‚¹ãƒ¡ã‚‚ã‚ã‚Šã¾ã™ã‚ˆï¼' }
    ]);

    // ê±´ë¬¼
    this.createBuildings([
      { x: ox + 400, y: oy + 400, texture: 'building_shop', name_ko: 'í…ì§„ ì§€í•˜ê°€ / å¤©ç¥åœ°ä¸‹è¡—' },
      { x: ox + 1400, y: oy + 400, texture: 'building_shop', name_ko: 'ë°±í™”ì  / ãƒ‡ãƒ‘ãƒ¼ãƒˆ' },
      { x: ox + 900, y: oy + 1000, texture: 'building_cafe', name_ko: 'ì¹´í˜ / ã‚«ãƒ•ã‚§' },
      { x: ox + 400, y: oy + 1000, texture: 'building_shop', name_ko: 'ì•½êµ­ / ãƒ‰ãƒ©ãƒƒã‚°ã‚¹ãƒˆã‚¢' }
    ]);

    // í…ì§„ì—­
    this.createSubwayEntrance(ox + 1000, oy + 700, 'FukuokaMetroScene', 'tenjin',
      'í…ì§„ì—­ ğŸš‡', 'å¤©ç¥é§…');
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // í•˜ì¹´íƒ€ êµ¬ì—­ (E: X:3800-5600, Y:1200-2800)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  setupHakataDistrict() {
    const ox = 3800, oy = 1200;

    // NPC
    this.createNPCs([
      { x: ox + 900, y: oy + 500, texture: 'shop',
        name_ko: 'ë¼ë©˜ ì‚¬ì¥ë‹˜', name_ja: 'ãƒ©ãƒ¼ãƒ¡ãƒ³åº—ä¸»',
        greeting_ko: 'í•˜ì¹´íƒ€ ë¼ë©˜ ë“œì…”ë³´ì„¸ìš”!\nëˆì½”ì¸  ë¼ë©˜ì´ ì œì¼ ìœ ëª…í•´ìš”~',
        greeting_ja: 'åšå¤šãƒ©ãƒ¼ãƒ¡ãƒ³ã„ã‹ãŒã§ã™ã‹ï¼\nè±šéª¨ãƒ©ãƒ¼ãƒ¡ãƒ³ãŒä¸€ç•ªæœ‰åã§ã™ã‚ˆï½' },
      { x: ox + 1500, y: oy + 800, texture: 'mission_npc',
        name_ko: 'í•˜ì¹´íƒ€ì—­ ì•ˆë‚´ì›', name_ja: 'åšå¤šé§…æ¡ˆå†…å“¡', hasMission: true,
        greeting_ko: 'í•˜ì¹´íƒ€ì—­ì— ì˜¤ì‹  ê±¸ í™˜ì˜í•©ë‹ˆë‹¤!\nì‡¼í•‘ëª°ê³¼ ë¨¹ê±°ë¦¬ê°€ ë§ì•„ìš”.',
        greeting_ja: 'åšå¤šé§…ã¸ã‚ˆã†ã“ãï¼\nã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ«ã¨ã‚°ãƒ«ãƒ¡ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚' }
    ]);

    // ê±´ë¬¼
    this.createBuildings([
      { x: ox + 600, y: oy + 300, texture: 'building_shop', name_ko: 'í•˜ì¹´íƒ€ì—­ / åšå¤šé§…' },
      { x: ox + 1400, y: oy + 300, texture: 'building_shop', name_ko: 'ì•„ë®¤ / AMU PLAZA' },
      { x: ox + 400, y: oy + 1000, texture: 'building_restaurant', name_ko: 'ë¼ë©˜ ê±°ë¦¬ / ãƒ©ãƒ¼ãƒ¡ãƒ³é€šã‚Š' },
      { x: ox + 1200, y: oy + 1000, texture: 'building_shop', name_ko: 'ìºë„ì‹œí‹° / ã‚­ãƒ£ãƒŠãƒ«ã‚·ãƒ†ã‚£' }
    ]);

    // í•˜ì¹´íƒ€ì—­
    this.createSubwayEntrance(ox + 800, oy + 700, 'FukuokaMetroScene', 'hakata',
      'í•˜ì¹´íƒ€ì—­ ğŸš‡', 'åšå¤šé§…');
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ì•¼ì¿ ì¸ êµ¬ì—­ (SW: X:1200-3000, Y:2600-4200)
  //  â€” ê¸°ì¡´ FukuokaYakuinScene ê±´ë¬¼/NPC ì´ê´€
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  setupYakuinDistrict() {
    const ox = 1200, oy = 2600;

    // NPC (ê¸°ì¡´ ì´ê´€)
    this.createNPCs([
      // ì•„ë¯¸
      { x: ox + 700, y: oy + 800, texture: 'ami',
        name_ko: 'ì•„ë¯¸', name_ja: 'ã‚¢ãƒŸ', hasDialogue: true,
        greeting_ko: 'ìœ ì½”ì•¼! í•œê¸€ ê³µë¶€ ì‹œì‘í•˜ì!\nBTX ê°€ì‚¬ ì½ê³  ì‹¶ì§€ ì•Šì•„?',
        greeting_ja: 'ãƒ¦ã‚³ï¼ãƒãƒ³ã‚°ãƒ«å‹‰å¼·å§‹ã‚ã‚ˆã†ï¼\nBTXã®æ­Œè©èª­ã¿ãŸããªã„ï¼Ÿ' },
      // ë£¨ì´
      { x: ox + 1000, y: oy + 900, texture: 'rui',
        name_ko: 'ë£¨ì´', name_ja: 'ãƒ«ã‚¤', hasDialogue: true,
        greeting_ko: 'í•œêµ­ì–´ êµì¬ ìƒ€ì–´!\nê°™ì´ ê³µë¶€í• ê¹Œ?',
        greeting_ja: 'éŸ“å›½èªãƒ†ã‚­ã‚¹ãƒˆè²·ã£ãŸã‚ˆï¼\nä¸€ç·’ã«å‹‰å¼·ã™ã‚‹ï¼Ÿ' },
      // í•œêµ­ì–´ ì„ ìƒë‹˜
      { x: ox + 450, y: oy + 350, texture: 'mission_npc',
        name_ko: 'í•œêµ­ì–´ ì„ ìƒë‹˜', name_ja: 'éŸ“å›½èªã®å…ˆç”Ÿ', hasMission: true,
        greeting_ko: 'ì•ˆë…•í•˜ì„¸ìš”! í•œê¸€ì„ ë°°ì›Œ ë³¼ê¹Œìš”?\nììŒê³¼ ëª¨ìŒë¶€í„° ì‹œì‘í•´ìš”!',
        greeting_ja: 'ã“ã‚“ã«ã¡ã¯ï¼ãƒãƒ³ã‚°ãƒ«ã‚’å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†ã‹ï¼Ÿ\nå­éŸ³ã¨æ¯éŸ³ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ï¼' },
      // ì„œì  ì§ì›
      { x: ox + 1450, y: oy + 250, texture: 'mission_npc',
        name_ko: 'ì„œì  ì§ì›', name_ja: 'æ›¸åº—å“¡', hasMission: true,
        greeting_ko: 'í•œêµ­ì–´ êµì¬ ì°¾ìœ¼ì„¸ìš”?\nì´ˆë³´ììš© êµì¬ê°€ ì—¬ê¸° ìˆì–´ìš”!',
        greeting_ja: 'éŸ“å›½èªãƒ†ã‚­ã‚¹ãƒˆã‚’ãŠæ¢ã—ã§ã™ã‹ï¼Ÿ\nåˆå¿ƒè€…ç”¨ãƒ†ã‚­ã‚¹ãƒˆã¯ã“ã¡ã‚‰ã§ã™ï¼' },
      // í¸ì˜ì  ì ì›
      { x: ox + 900, y: oy + 500, texture: 'shop',
        name_ko: 'í¸ì˜ì  ì ì›', name_ja: 'ã‚³ãƒ³ãƒ“ãƒ‹åº—å“¡',
        greeting_ko: 'ì–´ì„œì˜¤ì„¸ìš”! í•„ìš”í•˜ì‹  ê±° ìˆìœ¼ì„¸ìš”?',
        greeting_ja: 'ã„ã‚‰ã£ã—ã‚ƒã„ã¾ã›ï¼ä½•ã‹ãŠæ¢ã—ã§ã™ã‹ï¼Ÿ' }
    ]);

    // ì§„ì… ê°€ëŠ¥ ê±´ë¬¼ (ê¸°ì¡´ ì´ê´€)
    this.createEnterableBuilding(ox + 400, oy + 900, 'YukoHouseScene', {
      texture: 'building_house', name_ko: 'ìœ ì½” ì§‘', name_ja: 'ãƒ¦ã‚³ã®å®¶'
    });
    this.createEnterableBuilding(ox + 700, oy + 700, 'AmiHouseScene', {
      texture: 'building_house', name_ko: 'ì•„ë¯¸ ì§‘', name_ja: 'ã‚¢ãƒŸã®å®¶'
    });
    this.createEnterableBuilding(ox + 1000, oy + 900, 'RuiHouseScene', {
      texture: 'building_house', name_ko: 'ë£¨ì´ ì§‘', name_ja: 'ãƒ«ã‚¤ã®å®¶'
    });
    this.createEnterableBuilding(ox + 1400, oy + 300, 'BookstoreScene', {
      texture: 'building_shop', name_ko: 'ì„œì ', name_ja: 'æ›¸åº—ï¼ˆç´€é‡ä¸¸ï¼‰'
    });
    this.createEnterableBuilding(ox + 400, oy + 400, 'KoreanAcademyScene', {
      texture: 'building_academy', name_ko: 'í•œêµ­ì–´ í•™ì›', name_ja: 'éŸ“å›½èªæ•™å®¤'
    });

    // ì¼ë°˜ ê±´ë¬¼
    this.createBuildings([
      { x: ox + 900, y: oy + 400, texture: 'building_shop', name_ko: 'í¸ì˜ì  / ã‚³ãƒ³ãƒ“ãƒ‹' }
    ]);

    // ì•¼ì¿ ì¸ì—­
    this.createSubwayEntrance(ox + 1200, oy + 1200, 'FukuokaMetroScene', 'yakuin',
      'ì•¼ì¿ ì¸ì—­ ğŸš‡', 'è–¬é™¢é§…');

    // ì•¼ì¿ ì¸ ë„ë¡œ ì˜¤ë²„ë ˆì´ (ì£¼íƒê°€ ë¶„ìœ„ê¸°)
    const g = this.add.graphics().setDepth(0.5);
    // ì£¼íƒê°€ ê³¨ëª© (ì”ì”í•œ ë¶„ìœ„ê¸°)
    g.fillStyle(0xAAAAAA, 0.15);
    g.fillRect(ox + 200, oy + 600, 1400, 24);
    g.fillRect(ox + 600, oy + 300, 24, 1200);
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ì§€ì—­ ë¼ë²¨
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  addDistrictLabels() {
    const s = this.uiScale;
    const bigStyle = (color) => ({
      fontSize: `${Math.round(14 * s)}px`, color,
      fontStyle: 'bold', backgroundColor: '#00000066',
      padding: { x: 8, y: 4 }
    });
    const smallStyle = (color) => ({
      fontSize: `${Math.round(9 * s)}px`, color,
      backgroundColor: '#00000044', padding: { x: 4, y: 2 }
    });

    // í…ì§„
    this.add.text(2100, 1050, 'í…ì§„ å¤©ç¥', bigStyle('#FF8C00')).setOrigin(0.5).setDepth(3);
    this.add.text(2100, 1100, 'Tenjin', smallStyle('#FF8C00')).setOrigin(0.5).setDepth(3);

    // í•˜ì¹´íƒ€
    this.add.text(4700, 1250, 'í•˜ì¹´íƒ€ åšå¤š', bigStyle('#CD5C5C')).setOrigin(0.5).setDepth(3);
    this.add.text(4700, 1300, 'Hakata', smallStyle('#CD5C5C')).setOrigin(0.5).setDepth(3);

    // ì•¼ì¿ ì¸
    this.add.text(2100, 2650, 'ì•¼ì¿ ì¸ è–¬é™¢', bigStyle('#2E8B57')).setOrigin(0.5).setDepth(3);
    this.add.text(2100, 2700, 'Yakuin', smallStyle('#2E8B57')).setOrigin(0.5).setDepth(3);

    // í•˜ì¹´íƒ€ë§Œ ë¼ë²¨
    this.add.text(3200, 350, 'â”€â”€ í•˜ì¹´íƒ€ë§Œ / åšå¤šæ¹¾ / Hakata Bay â”€â”€', {
      fontSize: `${Math.round(11 * s)}px`, color: '#3366aa',
      fontStyle: 'italic', backgroundColor: '#00000044',
      padding: { x: 8, y: 3 }
    }).setOrigin(0.5).setDepth(3);

    // ë‚˜ì¹´ê°• ë¼ë²¨
    this.add.text(3450, 2400, 'é‚£ç‚å·', {
      fontSize: `${Math.round(9 * s)}px`, color: '#4488aa',
      fontStyle: 'italic', backgroundColor: '#00000044',
      padding: { x: 4, y: 2 }
    }).setOrigin(0.5).setDepth(3);

    // ì£¼ìš”ë„ë¡œ ë¼ë²¨
    this.add.text(3200, 1960, 'ì‡¼ì™€ë„ë¦¬ / æ˜­å’Œé€šã‚Š â†’', smallStyle('#999999')).setOrigin(0.5).setDepth(2);
    this.add.text(4650, 2800, 'å¤§åšé€šã‚Šâ†“', smallStyle('#999999')).setOrigin(0, 0.5).setDepth(2);
    this.add.text(2450, 3200, 'æ¸¡è¾ºé€šã‚Šâ†“', smallStyle('#999999')).setOrigin(0, 0.5).setDepth(2);
  }
}
